# 小程序项目架构设计
根据一个项目的 LifeTime 和团队结构，我们可能会选择不同的技术方案来完成一个类似的需求。

而我之前所接到的两个项目，都有一些共同点：

1. **项目时间紧张**：从知道要开发项目，到项目要上线，大多只有一个月时间。
2. **项目存在明确的 LifeTime**：两个项目的主要活动周期都不到 10 天，活动结束，小程序本身存在的价值就没有了。
3. **项目存在弹性和扩容的可能**：活动小程序的用户量和数据量可以预估，但也很难预估，因为无法完全评估用户量到底有多大。但我在开发第二个项目的时候就出现了明显的波动。某一个环节预计数据量在 5000 左右，实际上数据库产生了十数万数据，产生了意料之外的弹性压力。
   

由于存在这些具有特色的特性，在实际的开发过程中，我选择使用了[「云开发 Cloudbase」](http://cloud.tencent.com/product/tcb)旗下的「小程序·云开发」产品来完成开发。

## 为什么选择小程序 云开发？

和传统开发相比，小程序云开发具有以下几个特色

|特性|传统 Server 开发|云开发|
|---|---|---|
|开发速度|慢|快|
|部署成本|高|低|
|可拓展性|成本高，拓展性低|成本低，拓展性高|
|微信私有鉴权|没有|有，更安全|
|微信云调用|没有|有，一行代码调用微信开发接口，开发速度杠杠的|

> 云开发（Tencent CloudBase，TCB）是腾讯云提供的云原生一体化开发环境和工具平台，为开发者提供高可用、自动弹性扩缩的后端云服务，包含计算、存储、托管等 Serverless 化能力，可用于云端一体化开发多种端应用（小程序、公众号、Web 应用、Flutter 客户端等），帮助开发者统一构建和管理后端服务和云资源，避免了应用开发过程中繁琐的服务器搭建及运维，开发者可以专注于业务逻辑的实现，开发门槛更低，效率更高。 


**对于一个活动小程序来说，他的 LifeTime 只有 7 天，这意味着我如果为了这个项目启动一个 Kubernetes 集群，跑一个完整的后端，可能需要花费数十天的精力来完成。而当我选择了小程序 云开发以后，其自带的微信私有鉴权、云数据库、云函数、云存储、云应用等各项能力，大大的节约了我的开发时间，提升了我的开发效率，可以让我在几天就完成一个小程序的绝大多数功能。**

我想，对于忙碌的开发们来说，将更多的精力投放在业务逻辑本身的开发上，而不是基础设施的建设上，他不香么？

## 实际的开销如何？

在绝大多数的场景中，在用户量没有突破 5000 ，那么你的项目的使用量很有可能不会超过小程序云开发赠送的免费额度。随着你的使用量的不断增大，则可以考虑购买套餐或使用按量付费来完成。

## 总结

小程序·云开发的优势有很多，这里不再一一赘述。与其我在这里说，不妨你自己亲自试一试，感受一下 10X 开发速度的快乐。