# 小程序数据导入导出
数据的导入和导出是一个非常常见的需求。比如：我们要初始化用户白名单，就需要一个导入的功能；我们要做用户发货信息的批量下载，就需要数据的导出功能。

当你使用了云开发以后，这些数据的导入和导出就变得简单了许多。

## 导入数据
在进行业务开发的时候，难免会遇到需要数据导入的情况，比如说，需要导入用户的白名单，进行用户身份校验；在这种情况下，一个个手动输入的成本太高，选择使用数据导入的方式来做，会简单很多。
### 1. 构建数据
你只需要将自己需要导入的数据，整理成 Excel ，并保存为 UTF-8 格式的 CSV 文件，并按照字段设置

第一行为字段名，你可以根据你的需要进行设置，从第二行开始，你就可以根据自己的实际情况，填写数据了。

比如，如图这样的数据，最终导入到数据库后的格式就是 `{engName:"bestony",prop1:"xxx",prop2:"yyy"}`

![](https://postimg.aliavv.com/mpb/8syuh.png)

配置好数据后，将数据导出为 UTF-8 格式的 CSV 文件。

### 2. 导入数据
当你构建好数据以后，就可以在小程序开发者工具中，打开云开发控制台，找到你要导入数据的数据库

![](https://postimg.aliavv.com/mbp/vvx55.png)

点击导入，选择你要导入的 CSV 文件。

![](https://postimg.aliavv.com/mbp/dqb4c.png)

选择合适的冲突处理模式，就可以轻松的完成数据的入，稍等片刻，你就会看到你要导入的数据了。

## 导出数据

除了做数据导入，数据导出也是一个非常常见的需求，我们可能会需要将数据拉到本地进行离线处理。在这种情况下，你也可以使用云开发提供的数据导出功能，快速的完成数据的导出。

![](https://postimg.aliavv.com/mbp/ypzl2.png)

同样是打开小程序开发者工具，找到云开发控制台，选择你要导出数据的数据库，并根据你的需要选择导出数据的格式，以及你要导出的字段即可。


## 常见问题

### 1. 导入数据出现乱码

在 Windows 上导出的 Excel 可能默认是 GB2312 编码，因此在进行数据导入的时候，会出现乱码。如果你在导入数据时，出现了乱码的情况，可以删除已有导入的数据，并调整 Excel 导出的编码，设置为 UTF-8 即可。

## Reference

- https://developers.weixin.qq.com/miniprogram/dev/wxcloud/guide/database/import.html
- https://developers.weixin.qq.com/miniprogram/dev/wxcloud/guide/database/export.html